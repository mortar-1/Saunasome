<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

    <head th:replace="fragments/layout :: head"></head>

    <body>  

        <header th:replace="fragments/layout :: navbar"/>

        <div sec:authorize="hasAuthority('USER')" th:replace="fragments/layout :: sidebar"></div>

        <br/>

        <div class="container" style="margin-top:30px">

            <div>
                <form name="f" th:action="@{/register}" method="POST" enctype="multipart/form-data" th:object="${newSaunoja}">               

                    <fieldset>
                        <legend>Uuden saunojan tiedot</legend>

                        <div th:if="${#fields.hasErrors('firstName')}" class="alert alert-error">    
                            Virheellinen etunimi.
                        </div>

                        <div th:if="${#fields.hasErrors('lastName')}" class="alert alert-error">    
                            Virheellinen sukunimi.
                        </div>

                        <div th:if="${#fields.hasErrors('username')}" class="alert alert-error" th:errors="*{username}"> 
                            Käyttäjätunnusvirheviesti
                        </div>

                        <div th:if="${#fields.hasErrors('password')}" class="alert alert-error"> 
                            Virheellinen salasana.
                        </div>

                        <div th:if="${#fields.hasErrors('confirmPassword')}" class="alert alert-error"> 
                            Salasanat eivät täsmää.
                        </div>

                        <div th:if="${#fields.hasErrors('photo')}" class="alert alert-error"> 
                            Kuva on liian suuri ladattavaksi (Enintään 5MB).
                        </div>

                        <hr/>

                        <input placeholder="Etunimi" class="form-control" type="text" id="firstName" name="firstName"/>
                        <br/>
                        <input placeholder="Sukunimi" class="form-control" type="text" id="lastName" name="lastName"/>
                        <br/>
                        <input placeholder="Löylytunnus" class="form-control" type="text" id="username" name="username"/>
                        <br/>
                        <input autocomplete="new-password" placeholder="Salasana" class="form-control" type="password" id="password" name="password"/>
                        <br/>
                        <input placeholder="Salasana uudestaan" class="form-control" type="password" id="confirmPassword" name="confirmPassword"/>
                        <br/>
                        <p class="w3-center">Salasanan oltava: vähintään 6 merkkiä pitkä, 1 iso kirjain, 1 erikoismerkki.</p>

                        <hr/>


                        <div id="file-filename"></div>
                        <br/>

                        <div>
                            <button type="button" class="w3-button w3-theme-d1 w3-margin-bottom w3-left" onclick="document.getElementById('file').click()" style="white-space: nowrap"><i class="fa fa-file-image-o w3-left"></i>&nbsp; Valitse profiilikuva </button>

                            <button type="submit" class="w3-button w3-theme-d1 w3-margin-bottom w3-right"><i class="fa fa-plus"></i> Luo saunoja!</button>
                        </div>

                        <input type="file" name="photo" style="display:none;" id="file"/>

                    </fieldset>
                </form>
            </div>

        </div>


        <!--
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="pwstrength.js"></script>                  
        <script type="text/javascript">
            $(document).ready(function () {
            options = {
            common: {minChar:8},
            ui: {
            showVerdictsInsideProgressBar:true,
            showErrors:true,
            errorMessages:{
            wordLength: '<spring:message code="error.wordLength"/>',
            wordNotEmail: '<spring:message code="error.wordNotEmail"/>',
            wordSequences: '<spring:message code="error.wordSequences"/>',
            wordLowercase: '<spring:message code="error.wordLowercase"/>',
            wordUppercase: '<spring:message code="error.wordUppercase"/>',
            wordOneNumber: '<spring:message code="error.wordOneNumber"/>',
            wordOneSpecialChar: '<spring:message code="error.wordOneSpecialChar"/>'
            }
            }
            };
            $('#password').pwstrength(options);
            });
        </script>
        -->

        <script th:src="@{/javascript/showChoosenFile.js}"></script>
    </body>
</html>
